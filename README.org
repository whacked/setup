* env all

see ~/.nixpkgs/config.nix


* nix setup
using https://github.com/rycee/home-manager

mkdir -p /nix/var/nix/{profiles,gcroots}/per-user/$USER


HM_PATH=https://github.com/rycee/home-manager/archive/master.tar.gz


mkdir ~/.config/nixpkgs


cat > ~/.config/nixpkgs/home.nix <<EOF
{
  programs.home-manager.enable = true;
  programs.home-manager.path = $HM_PATH;
}
EOF

nix-shell $HM_PATH -A install


* vagrant setup

vagrant init nixos/nixos-18.03-x86_64
vagrant plugin install vagrant-disksize

** nixos plugin

probably skip this; the provisioner is not as reliable as directly running =nixos-rebuild switch=

vagrant plugin install vagrant-nixos-plugin
